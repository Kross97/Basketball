{"version":3,"sources":["static/images/sign_up.svg","components/signComponents/SignUp.tsx"],"names":["actionCreators","requestSignUp","clearSignUpNotification","authDataUser","actions","clearAuthNotificationSignUp","SignContainer","useState","isSuccesRequest","setTypeRequest","useCustomActions","signUp","history","useHistory","t","useTranslation","notificationMessage","useSelector","authNotificationMessageSignUp","useEffect","localStorage","setItem","setTimeout","push","routePaths","teams","submitHandler","useCallback","data","a","userName","login","password","isSuccess","payload","FormContainer","BaseForm","typeForm","PosterContainer","PosterSignUp","styled","div","theme","colors","white","lightBlue","mobileVersionLayout","signUpImage"],"mappings":"yMAAe,MAA0B,oC,0zBCezC,IAAMA,EAAiB,CACrBC,kBACAC,wBAAyBC,IAAaC,QAAQC,6BAyD1CC,GAtDS,qBAAO,IAAD,EACuBC,oBAAkB,GADzC,mBACZC,EADY,KACKC,EADL,OAKfC,YAAiBV,GAFJW,EAHE,EAGjBV,cACAC,EAJiB,EAIjBA,wBAEIU,EAAUC,cACRC,EAAMC,cAAND,EAEFE,EAAsBC,aAC1B,qBACEd,aACEe,iCAKNC,qBAAU,WACJX,IACFY,aAAaC,QAAQ,wBAAyB,WAC9CC,YAAW,WACTV,EAAQW,KAAKC,IAAWC,OACxBvB,MACC,SAEJ,CAACM,IAEJ,IAAMkB,EAAgBC,sBAAW,uCAAC,WAAOC,GAAP,eAAAC,EAAA,sEACRlB,EAAO,CAC7BmB,SAAUF,EAAKE,SACfC,MAAOH,EAAKG,MACZC,SAAUJ,EAAKI,WAJe,QAC1BC,EAD0B,QAMlBC,SACZzB,EAAewB,EAAUC,SAPK,2CAAD,sDAS9B,IAEH,OACE,eAAC5B,EAAD,WACE,cAAC6B,EAAD,UACE,cAACC,EAAA,EAAD,CACEC,SAAUvB,EAAE,UACZE,oBAAqBA,EACrBU,cAAeA,MAGnB,cAACY,EAAD,UACE,cAACC,EAAD,UAMcC,IAAOC,IAAV,MAKbN,EAAgBK,IAAOC,IAAV,KAKG,qBAAGC,MAAkBC,OAAOC,SAG5CN,EAAkBE,IAAOC,IAAV,KAIC,qBAAGC,MAAkBC,OAAOE,YAE3BC,KAKjBP,EAAeC,IAAOC,IAAV,IAIEM","file":"static/js/13.cee7c44e.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/sign_up.cf4e37d8.svg\";","import React, { useState, useEffect, useCallback } from 'react';\r\nimport styled from 'styled-components';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { useTranslation } from 'react-i18next';\r\nimport signUpImage from '../../static/images/sign_up.svg';\r\nimport { requestSignUp } from '../../store/asyncActions/auth';\r\nimport { authDataUser } from '../../store/reducers/auth';\r\nimport { useCustomActions } from '../../helpers/functions/useCustomActions';\r\nimport { mobileVersionLayout } from '../../helpers/constants/mobileSize';\r\nimport { StoreReducer } from '../../helpers/interfaces/StoreReducer';\r\nimport { BaseForm } from './BaseForm';\r\nimport { routePaths } from '../../helpers/constants/routePaths';\r\nimport { ISignUpForm } from '../../helpers/interfaces/signFormInterfaces/SignForms';\r\n\r\nconst actionCreators = {\r\n  requestSignUp,\r\n  clearSignUpNotification: authDataUser.actions.clearAuthNotificationSignUp,\r\n};\r\n\r\nexport default () => {\r\n  const [isSuccesRequest, setTypeRequest] = useState<boolean>(false);\r\n  const {\r\n    requestSignUp: signUp,\r\n    clearSignUpNotification,\r\n  } = useCustomActions(actionCreators);\r\n  const history = useHistory();\r\n  const { t } = useTranslation();\r\n\r\n  const notificationMessage = useSelector(\r\n    ({\r\n      authDataUser: {\r\n        authNotificationMessageSignUp,\r\n      },\r\n    }: StoreReducer) => (authNotificationMessageSignUp),\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (isSuccesRequest) {\r\n      localStorage.setItem('authorized_basketball', 'success');\r\n      setTimeout(() => {\r\n        history.push(routePaths.teams);\r\n        clearSignUpNotification();\r\n      }, 1800);\r\n    }\r\n  }, [isSuccesRequest]);\r\n\r\n  const submitHandler = useCallback(async (data: ISignUpForm) => {\r\n    const isSuccess = await signUp({\r\n      userName: data.userName,\r\n      login: data.login,\r\n      password: data.password,\r\n    });\r\n    if (isSuccess.payload) {\r\n      setTypeRequest(isSuccess.payload);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <SignContainer>\r\n      <FormContainer>\r\n        <BaseForm\r\n          typeForm={t('signUp')}\r\n          notificationMessage={notificationMessage}\r\n          submitHandler={submitHandler}\r\n        />\r\n      </FormContainer>\r\n      <PosterContainer>\r\n        <PosterSignUp />\r\n      </PosterContainer>\r\n    </SignContainer>\r\n  );\r\n};\r\n\r\nconst SignContainer = styled.div`\r\n  display: flex;\r\n  height: 100vh;\r\n`;\r\n\r\nconst FormContainer = styled.div`\r\n  flex-grow: 4;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: ${({ theme }) => theme.colors.white};\r\n`;\r\n\r\nconst PosterContainer = styled.div`\r\n  flex-grow: 8;\r\n  justify-content: center;\r\n  display: flex;\r\n  background-color: ${({ theme }) => theme.colors.lightBlue};\r\n  padding: 0 40px;\r\n  @media (max-width: ${mobileVersionLayout}) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nconst PosterSignUp = styled.div`\r\n  flex-basis: 660px;\r\n  height: 414px;\r\n  margin: auto;\r\n  background: url(${signUpImage}) no-repeat;\r\n  background-size: contain;\r\n  background-position: center;\r\n  display: inline-block;\r\n}\r\n`;\r\n"],"sourceRoot":""}